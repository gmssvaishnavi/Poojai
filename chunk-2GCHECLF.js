import{a as k}from"./chunk-GPY7EN6I.js";import{$a as O,Ab as P,Ba as f,Bb as w,Cb as y,Q as _,Ra as l,Sa as i,Ta as o,Ua as S,V as v,Va as M,W as x,Wa as m,Xa as p,aa as u,bb as c,cb as h,ma as C,oa as a,ya as b}from"./chunk-DKZNZJOI.js";function T(t,r){t&1&&(i(0,"div",10),S(1,"div",11),i(2,"p"),c(3,"Loading audio..."),o()())}function E(t,r){if(t&1){let s=M();i(0,"div",12)(1,"p"),c(2),o(),i(3,"button",13),m("click",function(){v(s);let e=p();return x(e.retry())}),c(4,"Try Again"),o()()}if(t&2){let s=p();a(2),h(s.mediaService.error())}}function A(t,r){if(t&1&&(i(0,"div",16)(1,"div",17),c(2,"\u{1F3B5}"),o(),i(3,"div",18)(4,"h3"),c(5),o(),i(6,"audio",19),c(7," Your browser does not support the audio element. "),o()()()),t&2){let s=r.$implicit;a(5),h(s.title),a(),l("src",s.url,C)}}function V(t,r){if(t&1&&(i(0,"div",14),f(1,A,8,2,"div",15),o()),t&2){let s=p();a(),l("ngForOf",s.audioItems())}}function L(t,r){t&1&&(i(0,"div",20)(1,"p"),c(2,"No audio files available at the moment."),o()())}var Y=(()=>{let r=class r{constructor(){this.mediaService=_(k),this.searchTerm=u(""),this.isListening=u(!1),this.audioItems=()=>{let d=this.searchTerm().toLowerCase();return this.mediaService.mediaItems().filter(e=>e.type==="audio").filter(e=>d===""||e.title.toLowerCase().includes(d))}}onSearchInput(d){let e=d.target;this.searchTerm.set(e.value)}toggleVoiceSearch(){this.isListening()?this.stopVoiceSearch():this.startVoiceSearch()}startVoiceSearch(){if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){let d=window.webkitSpeechRecognition||window.SpeechRecognition,e=new d;e.continuous=!1,e.interimResults=!1,e.lang="en-US",e.onstart=()=>this.isListening.set(!0),e.onend=()=>this.isListening.set(!1),e.onresult=n=>{let g=n.results[0][0].transcript;this.searchTerm.set(g)},e.start()}}stopVoiceSearch(){this.isListening.set(!1)}ngOnInit(){this.mediaService.fetchMedia()}retry(){this.mediaService.fetchMedia()}};r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=b({type:r,selectors:[["app-audio"]],decls:12,vars:7,consts:[[1,"audio-container"],[1,"container"],[1,"page-title"],[1,"search-container"],["type","text","placeholder","Search audio...",1,"search-input",3,"input","value"],["title","Voice Search",1,"voice-btn",3,"click"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","audio-grid",4,"ngIf"],["class","no-content",4,"ngIf"],[1,"loading-container"],[1,"loading-spinner"],[1,"error-container"],[1,"retry-btn",3,"click"],[1,"audio-grid"],["class","audio-card",4,"ngFor","ngForOf"],[1,"audio-card"],[1,"audio-icon"],[1,"audio-info"],["controls","","preload","metadata",3,"src"],[1,"no-content"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"h1",2),c(3," Audio Collections"),o(),i(4,"div",3)(5,"input",4),m("input",function(I){return n.onSearchInput(I)}),o(),i(6,"button",5),m("click",function(){return n.toggleVoiceSearch()}),c(7," \u{1F3A4} "),o()(),f(8,T,4,0,"div",6)(9,E,5,1,"div",7)(10,V,2,1,"div",8)(11,L,3,0,"div",9),o()()),e&2&&(a(5),l("value",n.searchTerm()),a(),O("listening",n.isListening()),a(2),l("ngIf",n.mediaService.loading()),a(),l("ngIf",n.mediaService.error()),a(),l("ngIf",!n.mediaService.loading()&&!n.mediaService.error()),a(),l("ngIf",!n.mediaService.loading()&&!n.mediaService.error()&&n.audioItems().length===0))},dependencies:[y,P,w],styles:[".search-container[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:2rem;justify-content:center}.search-input[_ngcontent-%COMP%]{padding:.75rem 1rem;border:2px solid #ddd;border-radius:25px;font-size:1rem;width:300px;outline:none}.search-input[_ngcontent-%COMP%]:focus{border-color:#8b4513}.voice-btn[_ngcontent-%COMP%]{padding:.75rem 1rem;border:2px solid #8B4513;border-radius:50%;background:#fff;cursor:pointer;font-size:1.2rem;transition:all .3s ease}.voice-btn[_ngcontent-%COMP%]:hover{background:#8b4513}.voice-btn.listening[_ngcontent-%COMP%]{background:#f44;animation:_ngcontent-%COMP%_pulse 1s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.audio-container[_ngcontent-%COMP%]{min-height:calc(100vh - 80px);background:#f8f9fa;padding:2rem 0}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 2rem}.page-title[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:3rem;color:#333;font-weight:700}.loading-container[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%], .no-content[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#666}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #27ae60;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.retry-btn[_ngcontent-%COMP%]{background:#27ae60;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:25px;cursor:pointer;font-weight:600;margin-top:1rem;transition:all .3s ease}.retry-btn[_ngcontent-%COMP%]:hover{background:#2ecc71;transform:translateY(-2px)}.audio-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:2rem}.audio-card[_ngcontent-%COMP%]{background:#fff;border-radius:15px;padding:2rem;box-shadow:0 5px 15px #0000001a;transition:all .3s ease;display:flex;align-items:center;gap:1.5rem}.audio-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 25px #00000026}.audio-icon[_ngcontent-%COMP%]{font-size:3rem;background:linear-gradient(135deg,#27ae60,#2ecc71);width:80px;height:80px;border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0}.audio-info[_ngcontent-%COMP%]{flex:1}.audio-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1.3rem;color:#333;font-weight:600}.audio-info[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%]{width:100%;height:40px}@media (max-width: 768px){.audio-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.container[_ngcontent-%COMP%]{padding:0 1rem}.audio-card[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.audio-icon[_ngcontent-%COMP%]{width:60px;height:60px;font-size:2rem}}"]});let t=r;return t})();export{Y as AudioComponent};
