import{a as k}from"./chunk-GPY7EN6I.js";import{$a as V,Ab as O,Ba as v,Bb as S,Cb as P,Q as C,Ra as l,Sa as n,Ta as r,Ua as M,V as g,Va as f,W as _,Wa as p,Xa as m,aa as x,bb as s,cb as u,ma as b,oa as a,ya as w}from"./chunk-DKZNZJOI.js";function y(i,d){i&1&&(n(0,"div",11),M(1,"div",12),n(2,"p"),s(3,"Loading videos..."),r()())}function T(i,d){if(i&1){let t=f();n(0,"div",13)(1,"p"),s(2),r(),n(3,"button",14),p("click",function(){g(t);let e=m();return _(e.retry())}),s(4,"Try Again"),r()()}if(i&2){let t=m();a(2),u(t.mediaService.error())}}function E(i,d){if(i&1){let t=f();n(0,"div",17)(1,"div",18),p("dblclick",function(){let e=g(t).$implicit,c=m(2);return _(c.openModal(e))}),n(2,"video",19),s(3," Your browser does not support the video tag. "),r()(),n(4,"div",20)(5,"h3"),s(6),r()()()}if(i&2){let t=d.$implicit;a(2),l("src",t.url,b),a(4),u(t.title)}}function z(i,d){if(i&1&&(n(0,"div",15),v(1,E,7,2,"div",16),r()),i&2){let t=m();a(),l("ngForOf",t.videoItems())}}function L(i,d){i&1&&(n(0,"div",21)(1,"p"),s(2,"No videos available at the moment."),r()())}function F(i,d){if(i&1){let t=f();n(0,"div",22),p("click",function(){g(t);let e=m();return _(e.closeModal())}),n(1,"div",23),p("click",function(e){return g(t),_(e.stopPropagation())}),n(2,"button",24),p("click",function(){g(t);let e=m();return _(e.closeModal())}),s(3,"\xD7"),r(),n(4,"button",25),p("click",function(){g(t);let e=m();return _(e.previousVideo())}),s(5,"\u2039"),r(),n(6,"button",26),p("click",function(){g(t);let e=m();return _(e.nextVideo())}),s(7,"\u203A"),r(),n(8,"video",27),s(9," Your browser does not support the video tag. "),r(),n(10,"h3"),s(11),r()()()}if(i&2){let t=m();a(4),l("disabled",t.currentIndex===0),a(2),l("disabled",t.currentIndex===t.videoItems().length-1),a(2),l("src",t.selectedVideo.url,b),a(3),u(t.selectedVideo.title)}}var U=(()=>{let d=class d{constructor(){this.mediaService=C(k),this.selectedVideo=null,this.currentIndex=0,this.searchTerm=x(""),this.isListening=x(!1),this.videoItems=()=>{let o=this.searchTerm().toLowerCase();return this.mediaService.mediaItems().filter(e=>e.type==="video").filter(e=>o===""||e.title.toLowerCase().includes(o))}}onSearchInput(o){let e=o.target;this.searchTerm.set(e.value)}toggleVoiceSearch(){this.isListening()?this.stopVoiceSearch():this.startVoiceSearch()}startVoiceSearch(){if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){let o=window.webkitSpeechRecognition||window.SpeechRecognition,e=new o;e.continuous=!1,e.interimResults=!1,e.lang="en-US",e.onstart=()=>this.isListening.set(!0),e.onend=()=>this.isListening.set(!1),e.onresult=c=>{let h=c.results[0][0].transcript;this.searchTerm.set(h)},e.start()}}stopVoiceSearch(){this.isListening.set(!1)}ngOnInit(){this.mediaService.fetchMedia()}openModal(o){this.selectedVideo=o,this.currentIndex=this.videoItems().findIndex(e=>e.url===o.url)}closeModal(){this.selectedVideo=null}previousVideo(){this.currentIndex>0&&(this.currentIndex--,this.selectedVideo=this.videoItems()[this.currentIndex])}nextVideo(){this.currentIndex<this.videoItems().length-1&&(this.currentIndex++,this.selectedVideo=this.videoItems()[this.currentIndex])}retry(){this.mediaService.fetchMedia()}};d.\u0275fac=function(e){return new(e||d)},d.\u0275cmp=w({type:d,selectors:[["app-videos"]],decls:13,vars:8,consts:[[1,"videos-container"],[1,"container"],[1,"page-title"],[1,"search-container"],["type","text","placeholder","Search videos...",1,"search-input",3,"input","value"],["title","Voice Search",1,"voice-btn",3,"click"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","videos-grid",4,"ngIf"],["class","no-content",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"loading-container"],[1,"loading-spinner"],[1,"error-container"],[1,"retry-btn",3,"click"],[1,"videos-grid"],["class","video-card",4,"ngFor","ngForOf"],[1,"video-card"],[1,"video-wrapper",3,"dblclick"],["controls","","preload","metadata",3,"src"],[1,"video-info"],[1,"no-content"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],[1,"nav-btn","prev-btn",3,"click","disabled"],[1,"nav-btn","next-btn",3,"click","disabled"],["controls","","autoplay","",3,"src"]],template:function(e,c){e&1&&(n(0,"div",0)(1,"div",1)(2,"h1",2),s(3,"Video Collections"),r(),n(4,"div",3)(5,"input",4),p("input",function(I){return c.onSearchInput(I)}),r(),n(6,"button",5),p("click",function(){return c.toggleVoiceSearch()}),s(7," \u{1F3A4} "),r()(),v(8,y,4,0,"div",6)(9,T,5,1,"div",7)(10,z,2,1,"div",8)(11,L,3,0,"div",9),r()(),v(12,F,12,4,"div",10)),e&2&&(a(5),l("value",c.searchTerm()),a(),V("listening",c.isListening()),a(2),l("ngIf",c.mediaService.loading()),a(),l("ngIf",c.mediaService.error()),a(),l("ngIf",!c.mediaService.loading()&&!c.mediaService.error()),a(),l("ngIf",!c.mediaService.loading()&&!c.mediaService.error()&&c.videoItems().length===0),a(),l("ngIf",c.selectedVideo))},dependencies:[P,O,S],styles:[".search-container[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:2rem;justify-content:center}.search-input[_ngcontent-%COMP%]{padding:.75rem 1rem;border:2px solid #ddd;border-radius:25px;font-size:1rem;width:300px;outline:none}.search-input[_ngcontent-%COMP%]:focus{border-color:#8b4513}.voice-btn[_ngcontent-%COMP%]{padding:.75rem 1rem;border:2px solid #8B4513;border-radius:50%;background:#fff;cursor:pointer;font-size:1.2rem;transition:all .3s ease}.voice-btn[_ngcontent-%COMP%]:hover{background:#8b4513}.voice-btn.listening[_ngcontent-%COMP%]{background:#f44;animation:_ngcontent-%COMP%_pulse 1s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.videos-container[_ngcontent-%COMP%]{min-height:calc(100vh - 80px);background:#f8f9fa;padding:2rem 0}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 2rem}.page-title[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:3rem;color:#333;font-weight:700}.loading-container[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%], .no-content[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#666}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #27ae60;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.retry-btn[_ngcontent-%COMP%]{background:#27ae60;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:25px;cursor:pointer;font-weight:600;margin-top:1rem;transition:all .3s ease}.retry-btn[_ngcontent-%COMP%]:hover{background:#2ecc71;transform:translateY(-2px)}.videos-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(400px,1fr));gap:2rem}.video-card[_ngcontent-%COMP%]{background:#fff;border-radius:15px;overflow:hidden;box-shadow:0 5px 15px #0000001a;transition:all .3s ease}.video-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 25px #00000026}.video-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:250px}.video-wrapper[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:15px 15px 0 0}.video-info[_ngcontent-%COMP%]{padding:1.5rem}.video-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.3rem;color:#333;font-weight:600}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000e6;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;max-width:90vw;max-height:90vh;text-align:center}.modal-content[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{max-width:100%;max-height:70vh}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin-top:1rem;font-size:1.5rem}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-40px;right:0;background:none;border:none;color:#fff;font-size:2rem;cursor:pointer;width:40px;height:40px}.nav-btn[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:#fff3;border:none;color:#fff;font-size:3rem;cursor:pointer;width:60px;height:60px;border-radius:50%;transition:background .3s}.nav-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#fff6}.nav-btn[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}.prev-btn[_ngcontent-%COMP%]{left:-80px}.next-btn[_ngcontent-%COMP%]{right:-80px}@media (max-width: 768px){.videos-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.container[_ngcontent-%COMP%]{padding:0 1rem}.video-wrapper[_ngcontent-%COMP%]{height:200px}}"]});let i=d;return i})();export{U as VideosComponent};
