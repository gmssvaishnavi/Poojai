import{L as p,Q as d,aa as m,qb as f}from"./chunk-DKZNZJOI.js";var w=(()=>{let e=class e{constructor(){this.http=d(f),this.mediaItems=m([]),this.loading=m(!1),this.error=m(null)}fetchMedia(){this.loading.set(!0),this.error.set(null);let l=`https://raw.githubusercontent.com/gmssvaishnavi/Poojai/main/Dec28th.csv?t=${Date.now()}&cb=${Math.random()}`,a="https://raw.githubusercontent.com/gmssvaishnavi/Poojai/main/";this.http.get(l,{responseType:"text"}).toPromise().then(i=>{try{let s=this.parseCsv(i||"",a);this.mediaItems.set(s)}catch(s){console.error("Error parsing CSV data:",s),this.error.set("Failed to parse media files data.")}finally{this.loading.set(!1)}}).catch(i=>{console.error("Failed to load CSV data:",i),this.error.set("Failed to load media files from repository."),this.loading.set(!1)})}parseCsv(l,a){let i=l.split(`
`).filter(o=>o.trim()),s=[];for(let o=1;o<i.length;o++){let c=i[o].split(",").map(t=>t.trim().replace(/"/g,""));if(c.length>=3){let t=c[0],g=c[1]||t.replace(/\.[^/.]+$/,"").replace(/([A-Z])/g," $1").trim(),u=c[2]||"",r="text",n="Text";t.match(/\.(jpg|jpeg|png|gif|webp)$/i)?(r="image",n="Images"):t.match(/\.(mp4|avi|mov|wmv|webm)$/i)?(r="video",n="Videos"):t.match(/\.(mp3|wav|ogg|m4a|aac)$/i)?(r="audio",n="Audios"):t.match(/\.(txt|md|json)$/i)&&(r="text",n="Text"),s.push({title:g,url:`${a}${n}/${t}`,type:r,description:u,filename:t})}}return s}reloadMedia(){this.fetchMedia()}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"});let h=e;return h})();export{w as a};
