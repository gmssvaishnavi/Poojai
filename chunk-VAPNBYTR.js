import{a as k}from"./chunk-GPY7EN6I.js";import{$a as w,Ab as O,Ba as f,Bb as P,Cb as S,Q as I,Ra as l,Sa as o,Ta as c,Ua as b,V as g,Va as u,W as p,Wa as _,Xa as m,aa as x,bb as d,cb as h,ma as C,oa as a,ya as M}from"./chunk-DKZNZJOI.js";function V(r,s){r&1&&(o(0,"div",11),b(1,"div",12),o(2,"p"),d(3,"Loading images..."),c()())}function T(r,s){if(r&1){let t=u();o(0,"div",13)(1,"p"),d(2),c(),o(3,"button",14),_("click",function(){g(t);let e=m();return p(e.retry())}),d(4,"Try Again"),c()()}if(r&2){let t=m();a(2),h(t.mediaService.error())}}function E(r,s){if(r&1){let t=u();o(0,"div",17)(1,"div",18)(2,"img",19),_("load",function(e){g(t);let i=m(2);return p(i.onImageLoad(e))})("error",function(e){g(t);let i=m(2);return p(i.onImageError(e))})("dblclick",function(){let e=g(t).$implicit,i=m(2);return p(i.openModal(e))}),c(),o(3,"div",20)(4,"h3"),d(5),c()()()()}if(r&2){let t=s.$implicit;a(2),l("src",t.url,C)("alt",t.title),a(3),h(t.title)}}function L(r,s){if(r&1&&(o(0,"div",15),f(1,E,6,3,"div",16),c()),r&2){let t=m();a(),l("ngForOf",t.imageItems())}}function z(r,s){r&1&&(o(0,"div",21)(1,"p"),d(2,"No images available at the moment."),c()())}function F(r,s){if(r&1){let t=u();o(0,"div",22),_("click",function(){g(t);let e=m();return p(e.closeModal())}),o(1,"div",23),_("click",function(e){return g(t),p(e.stopPropagation())}),o(2,"button",24),_("click",function(){g(t);let e=m();return p(e.closeModal())}),d(3,"\xD7"),c(),o(4,"button",25),_("click",function(){g(t);let e=m();return p(e.previousImage())}),d(5,"\u2039"),c(),o(6,"button",26),_("click",function(){g(t);let e=m();return p(e.nextImage())}),d(7,"\u203A"),c(),b(8,"img",27),o(9,"h3"),d(10),c()()()}if(r&2){let t=m();a(4),l("disabled",t.currentIndex===0),a(2),l("disabled",t.currentIndex===t.imageItems().length-1),a(2),l("src",t.selectedImage.url,C)("alt",t.selectedImage.title),a(2),h(t.selectedImage.title)}}var U=(()=>{let s=class s{constructor(){this.mediaService=I(k),this.selectedImage=null,this.currentIndex=0,this.searchTerm=x(""),this.isListening=x(!1),this.imageItems=()=>{let n=this.searchTerm().toLowerCase();return this.mediaService.mediaItems().filter(e=>e.type==="image").filter(e=>n===""||e.title.toLowerCase().includes(n))}}onSearchInput(n){let e=n.target;this.searchTerm.set(e.value)}toggleVoiceSearch(){this.isListening()?this.stopVoiceSearch():this.startVoiceSearch()}startVoiceSearch(){if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){let n=window.webkitSpeechRecognition||window.SpeechRecognition,e=new n;e.continuous=!1,e.interimResults=!1,e.lang="en-US",e.onstart=()=>this.isListening.set(!0),e.onend=()=>this.isListening.set(!1),e.onresult=i=>{let v=i.results[0][0].transcript;this.searchTerm.set(v)},e.start()}}stopVoiceSearch(){this.isListening.set(!1)}ngOnInit(){this.mediaService.fetchMedia()}onImageLoad(n){let e=n.target;e.style.opacity="1"}onImageError(n){let e=n.target;e.src="https://via.placeholder.com/300x250?text=Image+Not+Found"}openModal(n){this.selectedImage=n,this.currentIndex=this.imageItems().findIndex(e=>e.url===n.url)}closeModal(){this.selectedImage=null}previousImage(){this.currentIndex>0&&(this.currentIndex--,this.selectedImage=this.imageItems()[this.currentIndex])}nextImage(){this.currentIndex<this.imageItems().length-1&&(this.currentIndex++,this.selectedImage=this.imageItems()[this.currentIndex])}retry(){this.mediaService.fetchMedia()}};s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=M({type:s,selectors:[["app-images"]],decls:13,vars:8,consts:[[1,"images-container"],[1,"container"],[1,"page-title"],[1,"search-container"],["type","text","placeholder","Search images...",1,"search-input",3,"input","value"],["title","Voice Search",1,"voice-btn",3,"click"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","images-grid",4,"ngIf"],["class","no-content",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"loading-container"],[1,"loading-spinner"],[1,"error-container"],[1,"retry-btn",3,"click"],[1,"images-grid"],["class","image-card",4,"ngFor","ngForOf"],[1,"image-card"],[1,"image-wrapper"],[3,"load","error","dblclick","src","alt"],[1,"image-overlay"],[1,"no-content"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],[1,"nav-btn","prev-btn",3,"click","disabled"],[1,"nav-btn","next-btn",3,"click","disabled"],[3,"src","alt"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),d(3," Image Collections"),c(),o(4,"div",3)(5,"input",4),_("input",function(y){return i.onSearchInput(y)}),c(),o(6,"button",5),_("click",function(){return i.toggleVoiceSearch()}),d(7," \u{1F3A4} "),c()(),f(8,V,4,0,"div",6)(9,T,5,1,"div",7)(10,L,2,1,"div",8)(11,z,3,0,"div",9),c()(),f(12,F,11,5,"div",10)),e&2&&(a(5),l("value",i.searchTerm()),a(),w("listening",i.isListening()),a(2),l("ngIf",i.mediaService.loading()),a(),l("ngIf",i.mediaService.error()),a(),l("ngIf",!i.mediaService.loading()&&!i.mediaService.error()),a(),l("ngIf",!i.mediaService.loading()&&!i.mediaService.error()&&i.imageItems().length===0),a(),l("ngIf",i.selectedImage))},dependencies:[S,O,P],styles:[".images-container[_ngcontent-%COMP%]{min-height:calc(100vh - 80px);background:#f8f9fa;padding:2rem 0}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 2rem}.search-container[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:2rem;justify-content:center}.search-input[_ngcontent-%COMP%]{padding:.75rem 1rem;border:2px solid #ddd;border-radius:25px;font-size:1rem;width:300px;outline:none}.search-input[_ngcontent-%COMP%]:focus{border-color:#8b4513}.voice-btn[_ngcontent-%COMP%]{padding:.75rem 1rem;border:2px solid #8B4513;border-radius:50%;background:#fff;cursor:pointer;font-size:1.2rem;transition:all .3s ease}.voice-btn[_ngcontent-%COMP%]:hover{background:#8b4513}.voice-btn.listening[_ngcontent-%COMP%]{background:#f44;animation:_ngcontent-%COMP%_pulse 1s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.page-title[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:3rem;color:#333;font-weight:700}.loading-container[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%], .no-content[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#666}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #27ae60;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.retry-btn[_ngcontent-%COMP%]{background:#27ae60;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:25px;cursor:pointer;font-weight:600;margin-top:1rem;transition:all .3s ease}.retry-btn[_ngcontent-%COMP%]:hover{background:#2ecc71;transform:translateY(-2px)}.images-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:2rem}.image-card[_ngcontent-%COMP%]{background:#fff;border-radius:15px;overflow:hidden;box-shadow:0 5px 15px #0000001a;transition:all .3s ease}.image-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 25px #00000026}.image-wrapper[_ngcontent-%COMP%]{position:relative;overflow:hidden}.image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:250px;object-fit:cover;transition:transform .3s ease;opacity:0;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out forwards}@keyframes _ngcontent-%COMP%_fadeIn{to{opacity:1}}.image-card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.05)}.image-overlay[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;background:linear-gradient(transparent,#000c);color:#fff;padding:2rem 1rem 1rem;transform:translateY(100%);transition:transform .3s ease}.image-card[_ngcontent-%COMP%]:hover   .image-overlay[_ngcontent-%COMP%]{transform:translateY(0)}.image-overlay[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;font-weight:600}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000e6;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;max-width:90vw;max-height:90vh;text-align:center}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:80vh;object-fit:contain}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin-top:1rem;font-size:1.5rem}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-40px;right:0;background:none;border:none;color:#fff;font-size:2rem;cursor:pointer;width:40px;height:40px}.nav-btn[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:#fff3;border:none;color:#fff;font-size:3rem;cursor:pointer;width:60px;height:60px;border-radius:50%;transition:background .3s}.nav-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#fff6}.nav-btn[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}.prev-btn[_ngcontent-%COMP%]{left:-80px}.next-btn[_ngcontent-%COMP%]{right:-80px}@media (max-width: 768px){.images-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1rem}.container[_ngcontent-%COMP%]{padding:0 1rem}}"]});let r=s;return r})();export{U as ImagesComponent};
